"use strict";(self["webpackChunk"]=self["webpackChunk"]||[]).push([[9547],{39547:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{setupMode:()=>setupMode});var monaco_editor_core=__webpack_require__(62808);var STOP_WHEN_IDLE_FOR=2*60*1e3;var WorkerManager=function(){function WorkerManager(defaults){var _this=this;this._defaults=defaults;this._worker=null;this._idleCheckInterval=window.setInterval((function(){return _this._checkIfIdle()}),30*1e3);this._lastUsedTime=0;this._configChangeListener=this._defaults.onDidChange((function(){return _this._stopWorker()}))}WorkerManager.prototype._stopWorker=function(){if(this._worker){this._worker.dispose();this._worker=null}this._client=null};WorkerManager.prototype.dispose=function(){clearInterval(this._idleCheckInterval);this._configChangeListener.dispose();this._stopWorker()};WorkerManager.prototype._checkIfIdle=function(){if(!this._worker){return}var timePassedSinceLastUsed=Date.now()-this._lastUsedTime;if(timePassedSinceLastUsed>STOP_WHEN_IDLE_FOR){this._stopWorker()}};WorkerManager.prototype._getClient=function(){this._lastUsedTime=Date.now();if(!this._client){this._worker=monaco_editor_core.j6.createWebWorker({moduleId:"vs/language/css/cssWorker",label:this._defaults.languageId,createData:{options:this._defaults.options,languageId:this._defaults.languageId}});this._client=this._worker.getProxy()}return this._client};WorkerManager.prototype.getLanguageServiceWorker=function(){var _this=this;var resources=[];for(var _i=0;_i<arguments.length;_i++){resources[_i]=arguments[_i]}var _client;return this._getClient().then((function(client){_client=client})).then((function(_){return _this._worker.withSyncedResources(resources)})).then((function(_){return _client}))};return WorkerManager}();var integer;(function(integer){integer.MIN_VALUE=-2147483648;integer.MAX_VALUE=2147483647})(integer||(integer={}));var uinteger;(function(uinteger){uinteger.MIN_VALUE=0;uinteger.MAX_VALUE=2147483647})(uinteger||(uinteger={}));var Position;(function(Position){function create(line,character){if(line===Number.MAX_VALUE){line=uinteger.MAX_VALUE}if(character===Number.MAX_VALUE){character=uinteger.MAX_VALUE}return{line,character}}Position.create=create;function is(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.uinteger(candidate.line)&&Is.uinteger(candidate.character)}Position.is=is})(Position||(Position={}));var Range;(function(Range){function create(one,two,three,four){if(Is.uinteger(one)&&Is.uinteger(two)&&Is.uinteger(three)&&Is.uinteger(four)){return{start:Position.create(one,two),end:Position.create(three,four)}}else if(Position.is(one)&&Position.is(two)){return{start:one,end:two}}else{throw new Error("Range#create called with invalid arguments["+one+", "+two+", "+three+", "+four+"]")}}Range.create=create;function is(value){var candidate=value;return Is.objectLiteral(candidate)&&Position.is(candidate.start)&&Position.is(candidate.end)}Range.is=is})(Range||(Range={}));var Location;(function(Location){function create(uri,range){return{uri,range}}Location.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.string(candidate.uri)||Is.undefined(candidate.uri))}Location.is=is})(Location||(Location={}));var LocationLink;(function(LocationLink){function create(targetUri,targetRange,targetSelectionRange,originSelectionRange){return{targetUri,targetRange,targetSelectionRange,originSelectionRange}}LocationLink.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.targetRange)&&Is.string(candidate.targetUri)&&(Range.is(candidate.targetSelectionRange)||Is.undefined(candidate.targetSelectionRange))&&(Range.is(candidate.originSelectionRange)||Is.undefined(candidate.originSelectionRange))}LocationLink.is=is})(LocationLink||(LocationLink={}));var Color;(function(Color){function create(red,green,blue,alpha){return{red,green,blue,alpha}}Color.create=create;function is(value){var candidate=value;return Is.numberRange(candidate.red,0,1)&&Is.numberRange(candidate.green,0,1)&&Is.numberRange(candidate.blue,0,1)&&Is.numberRange(candidate.alpha,0,1)}Color.is=is})(Color||(Color={}));var ColorInformation;(function(ColorInformation){function create(range,color){return{range,color}}ColorInformation.create=create;function is(value){var candidate=value;return Range.is(candidate.range)&&Color.is(candidate.color)}ColorInformation.is=is})(ColorInformation||(ColorInformation={}));var ColorPresentation;(function(ColorPresentation){function create(label,textEdit,additionalTextEdits){return{label,textEdit,additionalTextEdits}}ColorPresentation.create=create;function is(value){var candidate=value;return Is.string(candidate.label)&&(Is.undefined(candidate.textEdit)||TextEdit.is(candidate))&&(Is.undefined(candidate.additionalTextEdits)||Is.typedArray(candidate.additionalTextEdits,TextEdit.is))}ColorPresentation.is=is})(ColorPresentation||(ColorPresentation={}));var FoldingRangeKind;(function(FoldingRangeKind){FoldingRangeKind["Comment"]="comment";FoldingRangeKind["Imports"]="imports";FoldingRangeKind["Region"]="region"})(FoldingRangeKind||(FoldingRangeKind={}));var FoldingRange;(function(FoldingRange){function create(startLine,endLine,startCharacter,endCharacter,kind){var result={startLine,endLine};if(Is.defined(startCharacter)){result.startCharacter=startCharacter}if(Is.defined(endCharacter)){result.endCharacter=endCharacter}if(Is.defined(kind)){result.kind=kind}return result}FoldingRange.create=create;function is(value){var candidate=value;return Is.uinteger(candidate.startLine)&&Is.uinteger(candidate.startLine)&&(Is.undefined(candidate.startCharacter)||Is.uinteger(candidate.startCharacter))&&(Is.undefined(candidate.endCharacter)||Is.uinteger(candidate.endCharacter))&&(Is.undefined(candidate.kind)||Is.string(candidate.kind))}FoldingRange.is=is})(FoldingRange||(FoldingRange={}));var DiagnosticRelatedInformation;(function(DiagnosticRelatedInformation){function create(location,message){return{location,message}}DiagnosticRelatedInformation.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Location.is(candidate.location)&&Is.string(candidate.message)}DiagnosticRelatedInformation.is=is})(DiagnosticRelatedInformation||(DiagnosticRelatedInformation={}));var DiagnosticSeverity;(function(DiagnosticSeverity){DiagnosticSeverity.Error=1;DiagnosticSeverity.Warning=2;DiagnosticSeverity.Information=3;DiagnosticSeverity.Hint=4})(DiagnosticSeverity||(DiagnosticSeverity={}));var DiagnosticTag;(function(DiagnosticTag){DiagnosticTag.Unnecessary=1;DiagnosticTag.Deprecated=2})(DiagnosticTag||(DiagnosticTag={}));var CodeDescription;(function(CodeDescription){function is(value){var candidate=value;return candidate!==undefined&&candidate!==null&&Is.string(candidate.href)}CodeDescription.is=is})(CodeDescription||(CodeDescription={}));var Diagnostic;(function(Diagnostic){function create(range,message,severity,code,source,relatedInformation){var result={range,message};if(Is.defined(severity)){result.severity=severity}if(Is.defined(code)){result.code=code}if(Is.defined(source)){result.source=source}if(Is.defined(relatedInformation)){result.relatedInformation=relatedInformation}return result}Diagnostic.create=create;function is(value){var _a;var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&Is.string(candidate.message)&&(Is.number(candidate.severity)||Is.undefined(candidate.severity))&&(Is.integer(candidate.code)||Is.string(candidate.code)||Is.undefined(candidate.code))&&(Is.undefined(candidate.codeDescription)||Is.string((_a=candidate.codeDescription)===null||_a===void 0?void 0:_a.href))&&(Is.string(candidate.source)||Is.undefined(candidate.source))&&(Is.undefined(candidate.relatedInformation)||Is.typedArray(candidate.relatedInformation,DiagnosticRelatedInformation.is))}Diagnostic.is=is})(Diagnostic||(Diagnostic={}));var Command;(function(Command){function create(title,command){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var result={title,command};if(Is.defined(args)&&args.length>0){result.arguments=args}return result}Command.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.title)&&Is.string(candidate.command)}Command.is=is})(Command||(Command={}));var TextEdit;(function(TextEdit){function replace(range,newText){return{range,newText}}TextEdit.replace=replace;function insert(position,newText){return{range:{start:position,end:position},newText}}TextEdit.insert=insert;function del(range){return{range,newText:""}}TextEdit.del=del;function is(value){var candidate=value;return Is.objectLiteral(candidate)&&Is.string(candidate.newText)&&Range.is(candidate.range)}TextEdit.is=is})(TextEdit||(TextEdit={}));var ChangeAnnotation;(function(ChangeAnnotation){function create(label,needsConfirmation,description){var result={label};if(needsConfirmation!==undefined){result.needsConfirmation=needsConfirmation}if(description!==undefined){result.description=description}return result}ChangeAnnotation.create=create;function is(value){var candidate=value;return candidate!==undefined&&Is.objectLiteral(candidate)&&Is.string(candidate.label)&&(Is.boolean(candidate.needsConfirmation)||candidate.needsConfirmation===undefined)&&(Is.string(candidate.description)||candidate.description===undefined)}ChangeAnnotation.is=is})(ChangeAnnotation||(ChangeAnnotation={}));var ChangeAnnotationIdentifier;(function(ChangeAnnotationIdentifier){function is(value){var candidate=value;return typeof candidate==="string"}ChangeAnnotationIdentifier.is=is})(ChangeAnnotationIdentifier||(ChangeAnnotationIdentifier={}));var AnnotatedTextEdit;(function(AnnotatedTextEdit){function replace(range,newText,annotation){return{range,newText,annotationId:annotation}}AnnotatedTextEdit.replace=replace;function insert(position,newText,annotation){return{range:{start:position,end:position},newText,annotationId:annotation}}AnnotatedTextEdit.insert=insert;function del(range,annotation){return{range,newText:"",annotationId:annotation}}AnnotatedTextEdit.del=del;function is(value){var candidate=value;return TextEdit.is(candidate)&&(ChangeAnnotation.is(candidate.annotationId)||ChangeAnnotationIdentifier.is(candidate.annotationId))}AnnotatedTextEdit.is=is})(AnnotatedTextEdit||(AnnotatedTextEdit={}));var TextDocumentEdit;(function(TextDocumentEdit){function create(textDocument,edits){return{textDocument,edits}}TextDocumentEdit.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)&&Array.isArray(candidate.edits)}TextDocumentEdit.is=is})(TextDocumentEdit||(TextDocumentEdit={}));var CreateFile;(function(CreateFile){function create(uri,options,annotation){var result={kind:"create",uri};if(options!==undefined&&(options.overwrite!==undefined||options.ignoreIfExists!==undefined)){result.options=options}if(annotation!==undefined){result.annotationId=annotation}return result}CreateFile.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="create"&&Is.string(candidate.uri)&&(candidate.options===undefined||(candidate.options.overwrite===undefined||Is.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===undefined||Is.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===undefined||ChangeAnnotationIdentifier.is(candidate.annotationId))}CreateFile.is=is})(CreateFile||(CreateFile={}));var RenameFile;(function(RenameFile){function create(oldUri,newUri,options,annotation){var result={kind:"rename",oldUri,newUri};if(options!==undefined&&(options.overwrite!==undefined||options.ignoreIfExists!==undefined)){result.options=options}if(annotation!==undefined){result.annotationId=annotation}return result}RenameFile.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="rename"&&Is.string(candidate.oldUri)&&Is.string(candidate.newUri)&&(candidate.options===undefined||(candidate.options.overwrite===undefined||Is.boolean(candidate.options.overwrite))&&(candidate.options.ignoreIfExists===undefined||Is.boolean(candidate.options.ignoreIfExists)))&&(candidate.annotationId===undefined||ChangeAnnotationIdentifier.is(candidate.annotationId))}RenameFile.is=is})(RenameFile||(RenameFile={}));var DeleteFile;(function(DeleteFile){function create(uri,options,annotation){var result={kind:"delete",uri};if(options!==undefined&&(options.recursive!==undefined||options.ignoreIfNotExists!==undefined)){result.options=options}if(annotation!==undefined){result.annotationId=annotation}return result}DeleteFile.create=create;function is(value){var candidate=value;return candidate&&candidate.kind==="delete"&&Is.string(candidate.uri)&&(candidate.options===undefined||(candidate.options.recursive===undefined||Is.boolean(candidate.options.recursive))&&(candidate.options.ignoreIfNotExists===undefined||Is.boolean(candidate.options.ignoreIfNotExists)))&&(candidate.annotationId===undefined||ChangeAnnotationIdentifier.is(candidate.annotationId))}DeleteFile.is=is})(DeleteFile||(DeleteFile={}));var WorkspaceEdit;(function(WorkspaceEdit){function is(value){var candidate=value;return candidate&&(candidate.changes!==undefined||candidate.documentChanges!==undefined)&&(candidate.documentChanges===undefined||candidate.documentChanges.every((function(change){if(Is.string(change.kind)){return CreateFile.is(change)||RenameFile.is(change)||DeleteFile.is(change)}else{return TextDocumentEdit.is(change)}})))}WorkspaceEdit.is=is})(WorkspaceEdit||(WorkspaceEdit={}));var TextEditChangeImpl=function(){function TextEditChangeImpl(edits,changeAnnotations){this.edits=edits;this.changeAnnotations=changeAnnotations}TextEditChangeImpl.prototype.insert=function(position,newText,annotation){var edit;var id;if(annotation===undefined){edit=TextEdit.insert(position,newText)}else if(ChangeAnnotationIdentifier.is(annotation)){id=annotation;edit=AnnotatedTextEdit.insert(position,newText,annotation)}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit.insert(position,newText,id)}this.edits.push(edit);if(id!==undefined){return id}};TextEditChangeImpl.prototype.replace=function(range,newText,annotation){var edit;var id;if(annotation===undefined){edit=TextEdit.replace(range,newText)}else if(ChangeAnnotationIdentifier.is(annotation)){id=annotation;edit=AnnotatedTextEdit.replace(range,newText,annotation)}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit.replace(range,newText,id)}this.edits.push(edit);if(id!==undefined){return id}};TextEditChangeImpl.prototype.delete=function(range,annotation){var edit;var id;if(annotation===undefined){edit=TextEdit.del(range)}else if(ChangeAnnotationIdentifier.is(annotation)){id=annotation;edit=AnnotatedTextEdit.del(range,annotation)}else{this.assertChangeAnnotations(this.changeAnnotations);id=this.changeAnnotations.manage(annotation);edit=AnnotatedTextEdit.del(range,id)}this.edits.push(edit);if(id!==undefined){return id}};TextEditChangeImpl.prototype.add=function(edit){this.edits.push(edit)};TextEditChangeImpl.prototype.all=function(){return this.edits};TextEditChangeImpl.prototype.clear=function(){this.edits.splice(0,this.edits.length)};TextEditChangeImpl.prototype.assertChangeAnnotations=function(value){if(value===undefined){throw new Error("Text edit change is not configured to manage change annotations.")}};return TextEditChangeImpl}();var ChangeAnnotations=function(){function ChangeAnnotations(annotations){this._annotations=annotations===undefined?Object.create(null):annotations;this._counter=0;this._size=0}ChangeAnnotations.prototype.all=function(){return this._annotations};Object.defineProperty(ChangeAnnotations.prototype,"size",{get:function(){return this._size},enumerable:false,configurable:true});ChangeAnnotations.prototype.manage=function(idOrAnnotation,annotation){var id;if(ChangeAnnotationIdentifier.is(idOrAnnotation)){id=idOrAnnotation}else{id=this.nextId();annotation=idOrAnnotation}if(this._annotations[id]!==undefined){throw new Error("Id "+id+" is already in use.")}if(annotation===undefined){throw new Error("No annotation provided for id "+id)}this._annotations[id]=annotation;this._size++;return id};ChangeAnnotations.prototype.nextId=function(){this._counter++;return this._counter.toString()};return ChangeAnnotations}();var WorkspaceChange=function(){function WorkspaceChange(workspaceEdit){var _this=this;this._textEditChanges=Object.create(null);if(workspaceEdit!==undefined){this._workspaceEdit=workspaceEdit;if(workspaceEdit.documentChanges){this._changeAnnotations=new ChangeAnnotations(workspaceEdit.changeAnnotations);workspaceEdit.changeAnnotations=this._changeAnnotations.all();workspaceEdit.documentChanges.forEach((function(change){if(TextDocumentEdit.is(change)){var textEditChange=new TextEditChangeImpl(change.edits,_this._changeAnnotations);_this._textEditChanges[change.textDocument.uri]=textEditChange}}))}else if(workspaceEdit.changes){Object.keys(workspaceEdit.changes).forEach((function(key){var textEditChange=new TextEditChangeImpl(workspaceEdit.changes[key]);_this._textEditChanges[key]=textEditChange}))}}else{this._workspaceEdit={}}}Object.defineProperty(WorkspaceChange.prototype,"edit",{get:function(){this.initDocumentChanges();if(this._changeAnnotations!==undefined){if(this._changeAnnotations.size===0){this._workspaceEdit.changeAnnotations=undefined}else{this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}}return this._workspaceEdit},enumerable:false,configurable:true});WorkspaceChange.prototype.getTextEditChange=function(key){if(OptionalVersionedTextDocumentIdentifier.is(key)){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var textDocument={uri:key.uri,version:key.version};var result=this._textEditChanges[textDocument.uri];if(!result){var edits=[];var textDocumentEdit={textDocument,edits};this._workspaceEdit.documentChanges.push(textDocumentEdit);result=new TextEditChangeImpl(edits,this._changeAnnotations);this._textEditChanges[textDocument.uri]=result}return result}else{this.initChanges();if(this._workspaceEdit.changes===undefined){throw new Error("Workspace edit is not configured for normal text edit changes.")}var result=this._textEditChanges[key];if(!result){var edits=[];this._workspaceEdit.changes[key]=edits;result=new TextEditChangeImpl(edits);this._textEditChanges[key]=result}return result}};WorkspaceChange.prototype.initDocumentChanges=function(){if(this._workspaceEdit.documentChanges===undefined&&this._workspaceEdit.changes===undefined){this._changeAnnotations=new ChangeAnnotations;this._workspaceEdit.documentChanges=[];this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()}};WorkspaceChange.prototype.initChanges=function(){if(this._workspaceEdit.documentChanges===undefined&&this._workspaceEdit.changes===undefined){this._workspaceEdit.changes=Object.create(null)}};WorkspaceChange.prototype.createFile=function(uri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var annotation;if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)){annotation=optionsOrAnnotation}else{options=optionsOrAnnotation}var operation;var id;if(annotation===undefined){operation=CreateFile.create(uri,options)}else{id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=CreateFile.create(uri,options,id)}this._workspaceEdit.documentChanges.push(operation);if(id!==undefined){return id}};WorkspaceChange.prototype.renameFile=function(oldUri,newUri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var annotation;if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)){annotation=optionsOrAnnotation}else{options=optionsOrAnnotation}var operation;var id;if(annotation===undefined){operation=RenameFile.create(oldUri,newUri,options)}else{id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=RenameFile.create(oldUri,newUri,options,id)}this._workspaceEdit.documentChanges.push(operation);if(id!==undefined){return id}};WorkspaceChange.prototype.deleteFile=function(uri,optionsOrAnnotation,options){this.initDocumentChanges();if(this._workspaceEdit.documentChanges===undefined){throw new Error("Workspace edit is not configured for document changes.")}var annotation;if(ChangeAnnotation.is(optionsOrAnnotation)||ChangeAnnotationIdentifier.is(optionsOrAnnotation)){annotation=optionsOrAnnotation}else{options=optionsOrAnnotation}var operation;var id;if(annotation===undefined){operation=DeleteFile.create(uri,options)}else{id=ChangeAnnotationIdentifier.is(annotation)?annotation:this._changeAnnotations.manage(annotation);operation=DeleteFile.create(uri,options,id)}this._workspaceEdit.documentChanges.push(operation);if(id!==undefined){return id}};return WorkspaceChange}();var TextDocumentIdentifier;(function(TextDocumentIdentifier){function create(uri){return{uri}}TextDocumentIdentifier.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)}TextDocumentIdentifier.is=is})(TextDocumentIdentifier||(TextDocumentIdentifier={}));var VersionedTextDocumentIdentifier;(function(VersionedTextDocumentIdentifier){function create(uri,version){return{uri,version}}VersionedTextDocumentIdentifier.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.integer(candidate.version)}VersionedTextDocumentIdentifier.is=is})(VersionedTextDocumentIdentifier||(VersionedTextDocumentIdentifier={}));var OptionalVersionedTextDocumentIdentifier;(function(OptionalVersionedTextDocumentIdentifier){function create(uri,version){return{uri,version}}OptionalVersionedTextDocumentIdentifier.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(candidate.version===null||Is.integer(candidate.version))}OptionalVersionedTextDocumentIdentifier.is=is})(OptionalVersionedTextDocumentIdentifier||(OptionalVersionedTextDocumentIdentifier={}));var TextDocumentItem;(function(TextDocumentItem){function create(uri,languageId,version,text){return{uri,languageId,version,text}}TextDocumentItem.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&Is.string(candidate.languageId)&&Is.integer(candidate.version)&&Is.string(candidate.text)}TextDocumentItem.is=is})(TextDocumentItem||(TextDocumentItem={}));var MarkupKind;(function(MarkupKind){MarkupKind.PlainText="plaintext";MarkupKind.Markdown="markdown"})(MarkupKind||(MarkupKind={}));(function(MarkupKind){function is(value){var candidate=value;return candidate===MarkupKind.PlainText||candidate===MarkupKind.Markdown}MarkupKind.is=is})(MarkupKind||(MarkupKind={}));var MarkupContent;(function(MarkupContent){function is(value){var candidate=value;return Is.objectLiteral(value)&&MarkupKind.is(candidate.kind)&&Is.string(candidate.value)}MarkupContent.is=is})(MarkupContent||(MarkupContent={}));var CompletionItemKind;(function(CompletionItemKind){CompletionItemKind.Text=1;CompletionItemKind.Method=2;CompletionItemKind.Function=3;CompletionItemKind.Constructor=4;CompletionItemKind.Field=5;CompletionItemKind.Variable=6;CompletionItemKind.Class=7;CompletionItemKind.Interface=8;CompletionItemKind.Module=9;CompletionItemKind.Property=10;CompletionItemKind.Unit=11;CompletionItemKind.Value=12;CompletionItemKind.Enum=13;CompletionItemKind.Keyword=14;CompletionItemKind.Snippet=15;CompletionItemKind.Color=16;CompletionItemKind.File=17;CompletionItemKind.Reference=18;CompletionItemKind.Folder=19;CompletionItemKind.EnumMember=20;CompletionItemKind.Constant=21;CompletionItemKind.Struct=22;CompletionItemKind.Event=23;CompletionItemKind.Operator=24;CompletionItemKind.TypeParameter=25})(CompletionItemKind||(CompletionItemKind={}));var InsertTextFormat;(function(InsertTextFormat){InsertTextFormat.PlainText=1;InsertTextFormat.Snippet=2})(InsertTextFormat||(InsertTextFormat={}));var CompletionItemTag;(function(CompletionItemTag){CompletionItemTag.Deprecated=1})(CompletionItemTag||(CompletionItemTag={}));var InsertReplaceEdit;(function(InsertReplaceEdit){function create(newText,insert,replace){return{newText,insert,replace}}InsertReplaceEdit.create=create;function is(value){var candidate=value;return candidate&&Is.string(candidate.newText)&&Range.is(candidate.insert)&&Range.is(candidate.replace)}InsertReplaceEdit.is=is})(InsertReplaceEdit||(InsertReplaceEdit={}));var InsertTextMode;(function(InsertTextMode){InsertTextMode.asIs=1;InsertTextMode.adjustIndentation=2})(InsertTextMode||(InsertTextMode={}));var CompletionItem;(function(CompletionItem){function create(label){return{label}}CompletionItem.create=create})(CompletionItem||(CompletionItem={}));var CompletionList;(function(CompletionList){function create(items,isIncomplete){return{items:items?items:[],isIncomplete:!!isIncomplete}}CompletionList.create=create})(CompletionList||(CompletionList={}));var MarkedString;(function(MarkedString){function fromPlainText(plainText){return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}MarkedString.fromPlainText=fromPlainText;function is(value){var candidate=value;return Is.string(candidate)||Is.objectLiteral(candidate)&&Is.string(candidate.language)&&Is.string(candidate.value)}MarkedString.is=is})(MarkedString||(MarkedString={}));var Hover;(function(Hover){function is(value){var candidate=value;return!!candidate&&Is.objectLiteral(candidate)&&(MarkupContent.is(candidate.contents)||MarkedString.is(candidate.contents)||Is.typedArray(candidate.contents,MarkedString.is))&&(value.range===undefined||Range.is(value.range))}Hover.is=is})(Hover||(Hover={}));var ParameterInformation;(function(ParameterInformation){function create(label,documentation){return documentation?{label,documentation}:{label}}ParameterInformation.create=create})(ParameterInformation||(ParameterInformation={}));var SignatureInformation;(function(SignatureInformation){function create(label,documentation){var parameters=[];for(var _i=2;_i<arguments.length;_i++){parameters[_i-2]=arguments[_i]}var result={label};if(Is.defined(documentation)){result.documentation=documentation}if(Is.defined(parameters)){result.parameters=parameters}else{result.parameters=[]}return result}SignatureInformation.create=create})(SignatureInformation||(SignatureInformation={}));var DocumentHighlightKind;(function(DocumentHighlightKind){DocumentHighlightKind.Text=1;DocumentHighlightKind.Read=2;DocumentHighlightKind.Write=3})(DocumentHighlightKind||(DocumentHighlightKind={}));var DocumentHighlight;(function(DocumentHighlight){function create(range,kind){var result={range};if(Is.number(kind)){result.kind=kind}return result}DocumentHighlight.create=create})(DocumentHighlight||(DocumentHighlight={}));var SymbolKind;(function(SymbolKind){SymbolKind.File=1;SymbolKind.Module=2;SymbolKind.Namespace=3;SymbolKind.Package=4;SymbolKind.Class=5;SymbolKind.Method=6;SymbolKind.Property=7;SymbolKind.Field=8;SymbolKind.Constructor=9;SymbolKind.Enum=10;SymbolKind.Interface=11;SymbolKind.Function=12;SymbolKind.Variable=13;SymbolKind.Constant=14;SymbolKind.String=15;SymbolKind.Number=16;SymbolKind.Boolean=17;SymbolKind.Array=18;SymbolKind.Object=19;SymbolKind.Key=20;SymbolKind.Null=21;SymbolKind.EnumMember=22;SymbolKind.Struct=23;SymbolKind.Event=24;SymbolKind.Operator=25;SymbolKind.TypeParameter=26})(SymbolKind||(SymbolKind={}));var SymbolTag;(function(SymbolTag){SymbolTag.Deprecated=1})(SymbolTag||(SymbolTag={}));var SymbolInformation;(function(SymbolInformation){function create(name,kind,range,uri,containerName){var result={name,kind,location:{uri,range}};if(containerName){result.containerName=containerName}return result}SymbolInformation.create=create})(SymbolInformation||(SymbolInformation={}));var DocumentSymbol;(function(DocumentSymbol){function create(name,detail,kind,range,selectionRange,children){var result={name,detail,kind,range,selectionRange};if(children!==undefined){result.children=children}return result}DocumentSymbol.create=create;function is(value){var candidate=value;return candidate&&Is.string(candidate.name)&&Is.number(candidate.kind)&&Range.is(candidate.range)&&Range.is(candidate.selectionRange)&&(candidate.detail===undefined||Is.string(candidate.detail))&&(candidate.deprecated===undefined||Is.boolean(candidate.deprecated))&&(candidate.children===undefined||Array.isArray(candidate.children))&&(candidate.tags===undefined||Array.isArray(candidate.tags))}DocumentSymbol.is=is})(DocumentSymbol||(DocumentSymbol={}));var CodeActionKind;(function(CodeActionKind){CodeActionKind.Empty="";CodeActionKind.QuickFix="quickfix";CodeActionKind.Refactor="refactor";CodeActionKind.RefactorExtract="refactor.extract";CodeActionKind.RefactorInline="refactor.inline";CodeActionKind.RefactorRewrite="refactor.rewrite";CodeActionKind.Source="source";CodeActionKind.SourceOrganizeImports="source.organizeImports";CodeActionKind.SourceFixAll="source.fixAll"})(CodeActionKind||(CodeActionKind={}));var CodeActionContext;(function(CodeActionContext){function create(diagnostics,only){var result={diagnostics};if(only!==undefined&&only!==null){result.only=only}return result}CodeActionContext.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.typedArray(candidate.diagnostics,Diagnostic.is)&&(candidate.only===undefined||Is.typedArray(candidate.only,Is.string))}CodeActionContext.is=is})(CodeActionContext||(CodeActionContext={}));var CodeAction;(function(CodeAction){function create(title,kindOrCommandOrEdit,kind){var result={title};var checkKind=true;if(typeof kindOrCommandOrEdit==="string"){checkKind=false;result.kind=kindOrCommandOrEdit}else if(Command.is(kindOrCommandOrEdit)){result.command=kindOrCommandOrEdit}else{result.edit=kindOrCommandOrEdit}if(checkKind&&kind!==undefined){result.kind=kind}return result}CodeAction.create=create;function is(value){var candidate=value;return candidate&&Is.string(candidate.title)&&(candidate.diagnostics===undefined||Is.typedArray(candidate.diagnostics,Diagnostic.is))&&(candidate.kind===undefined||Is.string(candidate.kind))&&(candidate.edit!==undefined||candidate.command!==undefined)&&(candidate.command===undefined||Command.is(candidate.command))&&(candidate.isPreferred===undefined||Is.boolean(candidate.isPreferred))&&(candidate.edit===undefined||WorkspaceEdit.is(candidate.edit))}CodeAction.is=is})(CodeAction||(CodeAction={}));var CodeLens;(function(CodeLens){function create(range,data){var result={range};if(Is.defined(data)){result.data=data}return result}CodeLens.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.command)||Command.is(candidate.command))}CodeLens.is=is})(CodeLens||(CodeLens={}));var FormattingOptions;(function(FormattingOptions){function create(tabSize,insertSpaces){return{tabSize,insertSpaces}}FormattingOptions.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.uinteger(candidate.tabSize)&&Is.boolean(candidate.insertSpaces)}FormattingOptions.is=is})(FormattingOptions||(FormattingOptions={}));var DocumentLink;(function(DocumentLink){function create(range,target,data){return{range,target,data}}DocumentLink.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Range.is(candidate.range)&&(Is.undefined(candidate.target)||Is.string(candidate.target))}DocumentLink.is=is})(DocumentLink||(DocumentLink={}));var SelectionRange;(function(SelectionRange){function create(range,parent){return{range,parent}}SelectionRange.create=create;function is(value){var candidate=value;return candidate!==undefined&&Range.is(candidate.range)&&(candidate.parent===undefined||SelectionRange.is(candidate.parent))}SelectionRange.is=is})(SelectionRange||(SelectionRange={}));var EOL=null&&["\n","\r\n","\r"];var TextDocument;(function(TextDocument){function create(uri,languageId,version,content){return new FullTextDocument(uri,languageId,version,content)}TextDocument.create=create;function is(value){var candidate=value;return Is.defined(candidate)&&Is.string(candidate.uri)&&(Is.undefined(candidate.languageId)||Is.string(candidate.languageId))&&Is.uinteger(candidate.lineCount)&&Is.func(candidate.getText)&&Is.func(candidate.positionAt)&&Is.func(candidate.offsetAt)?true:false}TextDocument.is=is;function applyEdits(document,edits){var text=document.getText();var sortedEdits=mergeSort(edits,(function(a,b){var diff=a.range.start.line-b.range.start.line;if(diff===0){return a.range.start.character-b.range.start.character}return diff}));var lastModifiedOffset=text.length;for(var i=sortedEdits.length-1;i>=0;i--){var e=sortedEdits[i];var startOffset=document.offsetAt(e.range.start);var endOffset=document.offsetAt(e.range.end);if(endOffset<=lastModifiedOffset){text=text.substring(0,startOffset)+e.newText+text.substring(endOffset,text.length)}else{throw new Error("Overlapping edit")}lastModifiedOffset=startOffset}return text}TextDocument.applyEdits=applyEdits;function mergeSort(data,compare){if(data.length<=1){return data}var p=data.length/2|0;var left=data.slice(0,p);var right=data.slice(p);mergeSort(left,compare);mergeSort(right,compare);var leftIdx=0;var rightIdx=0;var i=0;while(leftIdx<left.length&&rightIdx<right.length){var ret=compare(left[leftIdx],right[rightIdx]);if(ret<=0){data[i++]=left[leftIdx++]}else{data[i++]=right[rightIdx++]}}while(leftIdx<left.length){data[i++]=left[leftIdx++]}while(rightIdx<right.length){data[i++]=right[rightIdx++]}return data}})(TextDocument||(TextDocument={}));var FullTextDocument=function(){function FullTextDocument(uri,languageId,version,content){this._uri=uri;this._languageId=languageId;this._version=version;this._content=content;this._lineOffsets=undefined}Object.defineProperty(FullTextDocument.prototype,"uri",{get:function(){return this._uri},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument.prototype,"languageId",{get:function(){return this._languageId},enumerable:false,configurable:true});Object.defineProperty(FullTextDocument.prototype,"version",{get:function(){return this._version},enumerable:false,configurable:true});FullTextDocument.prototype.getText=function(range){if(range){var start=this.offsetAt(range.start);var end=this.offsetAt(range.end);return this._content.substring(start,end)}return this._content};FullTextDocument.prototype.update=function(event,version){this._content=event.text;this._version=version;this._lineOffsets=undefined};FullTextDocument.prototype.getLineOffsets=function(){if(this._lineOffsets===undefined){var lineOffsets=[];var text=this._content;var isLineStart=true;for(var i=0;i<text.length;i++){if(isLineStart){lineOffsets.push(i);isLineStart=false}var ch=text.charAt(i);isLineStart=ch==="\r"||ch==="\n";if(ch==="\r"&&i+1<text.length&&text.charAt(i+1)==="\n"){i++}}if(isLineStart&&text.length>0){lineOffsets.push(text.length)}this._lineOffsets=lineOffsets}return this._lineOffsets};FullTextDocument.prototype.positionAt=function(offset){offset=Math.max(Math.min(offset,this._content.length),0);var lineOffsets=this.getLineOffsets();var low=0,high=lineOffsets.length;if(high===0){return Position.create(0,offset)}while(low<high){var mid=Math.floor((low+high)/2);if(lineOffsets[mid]>offset){high=mid}else{low=mid+1}}var line=low-1;return Position.create(line,offset-lineOffsets[line])};FullTextDocument.prototype.offsetAt=function(position){var lineOffsets=this.getLineOffsets();if(position.line>=lineOffsets.length){return this._content.length}else if(position.line<0){return 0}var lineOffset=lineOffsets[position.line];var nextLineOffset=position.line+1<lineOffsets.length?lineOffsets[position.line+1]:this._content.length;return Math.max(Math.min(lineOffset+position.character,nextLineOffset),lineOffset)};Object.defineProperty(FullTextDocument.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:false,configurable:true});return FullTextDocument}();var Is;(function(Is){var toString=Object.prototype.toString;function defined(value){return typeof value!=="undefined"}Is.defined=defined;function undefined(value){return typeof value==="undefined"}Is.undefined=undefined;function boolean(value){return value===true||value===false}Is.boolean=boolean;function string(value){return toString.call(value)==="[object String]"}Is.string=string;function number(value){return toString.call(value)==="[object Number]"}Is.number=number;function numberRange(value,min,max){return toString.call(value)==="[object Number]"&&min<=value&&value<=max}Is.numberRange=numberRange;function integer(value){return toString.call(value)==="[object Number]"&&-2147483648<=value&&value<=2147483647}Is.integer=integer;function uinteger(value){return toString.call(value)==="[object Number]"&&0<=value&&value<=2147483647}Is.uinteger=uinteger;function func(value){return toString.call(value)==="[object Function]"}Is.func=func;function objectLiteral(value){return value!==null&&typeof value==="object"}Is.objectLiteral=objectLiteral;function typedArray(value,check){return Array.isArray(value)&&value.every(check)}Is.typedArray=typedArray})(Is||(Is={}));var DiagnosticsAdapter=function(){function DiagnosticsAdapter(_languageId,_worker,defaults){var _this=this;this._languageId=_languageId;this._worker=_worker;this._disposables=[];this._listener=Object.create(null);var onModelAdd=function(model){var modeId=model.getLanguageId();if(modeId!==_this._languageId){return}var handle;_this._listener[model.uri.toString()]=model.onDidChangeContent((function(){window.clearTimeout(handle);handle=window.setTimeout((function(){return _this._doValidate(model.uri,modeId)}),500)}));_this._doValidate(model.uri,modeId)};var onModelRemoved=function(model){monaco_editor_core.j6.setModelMarkers(model,_this._languageId,[]);var uriStr=model.uri.toString();var listener=_this._listener[uriStr];if(listener){listener.dispose();delete _this._listener[uriStr]}};this._disposables.push(monaco_editor_core.j6.onDidCreateModel(onModelAdd));this._disposables.push(monaco_editor_core.j6.onWillDisposeModel(onModelRemoved));this._disposables.push(monaco_editor_core.j6.onDidChangeModelLanguage((function(event){onModelRemoved(event.model);onModelAdd(event.model)})));defaults.onDidChange((function(_){monaco_editor_core.j6.getModels().forEach((function(model){if(model.getLanguageId()===_this._languageId){onModelRemoved(model);onModelAdd(model)}}))}));this._disposables.push({dispose:function(){for(var key in _this._listener){_this._listener[key].dispose()}}});monaco_editor_core.j6.getModels().forEach(onModelAdd)}DiagnosticsAdapter.prototype.dispose=function(){this._disposables.forEach((function(d){return d&&d.dispose()}));this._disposables=[]};DiagnosticsAdapter.prototype._doValidate=function(resource,languageId){this._worker(resource).then((function(worker){return worker.doValidation(resource.toString())})).then((function(diagnostics){var markers=diagnostics.map((function(d){return toDiagnostics(resource,d)}));var model=monaco_editor_core.j6.getModel(resource);if(model&&model.getLanguageId()===languageId){monaco_editor_core.j6.setModelMarkers(model,languageId,markers)}})).then(undefined,(function(err){console.error(err)}))};return DiagnosticsAdapter}();function toSeverity(lsSeverity){switch(lsSeverity){case DiagnosticSeverity.Error:return monaco_editor_core.ZL.Error;case DiagnosticSeverity.Warning:return monaco_editor_core.ZL.Warning;case DiagnosticSeverity.Information:return monaco_editor_core.ZL.Info;case DiagnosticSeverity.Hint:return monaco_editor_core.ZL.Hint;default:return monaco_editor_core.ZL.Info}}function toDiagnostics(resource,diag){var code=typeof diag.code==="number"?String(diag.code):diag.code;return{severity:toSeverity(diag.severity),startLineNumber:diag.range.start.line+1,startColumn:diag.range.start.character+1,endLineNumber:diag.range.end.line+1,endColumn:diag.range.end.character+1,message:diag.message,code,source:diag.source}}function fromPosition(position){if(!position){return void 0}return{character:position.column-1,line:position.lineNumber-1}}function fromRange(range){if(!range){return void 0}return{start:{line:range.startLineNumber-1,character:range.startColumn-1},end:{line:range.endLineNumber-1,character:range.endColumn-1}}}function toRange(range){if(!range){return void 0}return new monaco_editor_core.e6(range.start.line+1,range.start.character+1,range.end.line+1,range.end.character+1)}function isInsertReplaceEdit(edit){return typeof edit.insert!=="undefined"&&typeof edit.replace!=="undefined"}function toCompletionItemKind(kind){var mItemKind=monaco_editor_core.Mj.CompletionItemKind;switch(kind){case CompletionItemKind.Text:return mItemKind.Text;case CompletionItemKind.Method:return mItemKind.Method;case CompletionItemKind.Function:return mItemKind.Function;case CompletionItemKind.Constructor:return mItemKind.Constructor;case CompletionItemKind.Field:return mItemKind.Field;case CompletionItemKind.Variable:return mItemKind.Variable;case CompletionItemKind.Class:return mItemKind.Class;case CompletionItemKind.Interface:return mItemKind.Interface;case CompletionItemKind.Module:return mItemKind.Module;case CompletionItemKind.Property:return mItemKind.Property;case CompletionItemKind.Unit:return mItemKind.Unit;case CompletionItemKind.Value:return mItemKind.Value;case CompletionItemKind.Enum:return mItemKind.Enum;case CompletionItemKind.Keyword:return mItemKind.Keyword;case CompletionItemKind.Snippet:return mItemKind.Snippet;case CompletionItemKind.Color:return mItemKind.Color;case CompletionItemKind.File:return mItemKind.File;case CompletionItemKind.Reference:return mItemKind.Reference}return mItemKind.Property}function toTextEdit(textEdit){if(!textEdit){return void 0}return{range:toRange(textEdit.range),text:textEdit.newText}}function toCommand(c){return c&&c.command==="editor.action.triggerSuggest"?{id:c.command,title:c.title,arguments:c.arguments}:undefined}var CompletionAdapter=function(){function CompletionAdapter(_worker){this._worker=_worker}Object.defineProperty(CompletionAdapter.prototype,"triggerCharacters",{get:function(){return["/","-",":"]},enumerable:false,configurable:true});CompletionAdapter.prototype.provideCompletionItems=function(model,position,context,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.doComplete(resource.toString(),fromPosition(position))})).then((function(info){if(!info){return}var wordInfo=model.getWordUntilPosition(position);var wordRange=new monaco_editor_core.e6(position.lineNumber,wordInfo.startColumn,position.lineNumber,wordInfo.endColumn);var items=info.items.map((function(entry){var item={label:entry.label,insertText:entry.insertText||entry.label,sortText:entry.sortText,filterText:entry.filterText,documentation:entry.documentation,detail:entry.detail,command:toCommand(entry.command),range:wordRange,kind:toCompletionItemKind(entry.kind)};if(entry.textEdit){if(isInsertReplaceEdit(entry.textEdit)){item.range={insert:toRange(entry.textEdit.insert),replace:toRange(entry.textEdit.replace)}}else{item.range=toRange(entry.textEdit.range)}item.insertText=entry.textEdit.newText}if(entry.additionalTextEdits){item.additionalTextEdits=entry.additionalTextEdits.map(toTextEdit)}if(entry.insertTextFormat===InsertTextFormat.Snippet){item.insertTextRules=monaco_editor_core.Mj.CompletionItemInsertTextRule.InsertAsSnippet}return item}));return{isIncomplete:info.isIncomplete,suggestions:items}}))};return CompletionAdapter}();function isMarkupContent(thing){return thing&&typeof thing==="object"&&typeof thing.kind==="string"}function toMarkdownString(entry){if(typeof entry==="string"){return{value:entry}}if(isMarkupContent(entry)){if(entry.kind==="plaintext"){return{value:entry.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}return{value:entry.value}}return{value:"```"+entry.language+"\n"+entry.value+"\n```\n"}}function toMarkedStringArray(contents){if(!contents){return void 0}if(Array.isArray(contents)){return contents.map(toMarkdownString)}return[toMarkdownString(contents)]}var HoverAdapter=function(){function HoverAdapter(_worker){this._worker=_worker}HoverAdapter.prototype.provideHover=function(model,position,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.doHover(resource.toString(),fromPosition(position))})).then((function(info){if(!info){return}return{range:toRange(info.range),contents:toMarkedStringArray(info.contents)}}))};return HoverAdapter}();function toDocumentHighlightKind(kind){switch(kind){case DocumentHighlightKind.Read:return monaco_editor_core.Mj.DocumentHighlightKind.Read;case DocumentHighlightKind.Write:return monaco_editor_core.Mj.DocumentHighlightKind.Write;case DocumentHighlightKind.Text:return monaco_editor_core.Mj.DocumentHighlightKind.Text}return monaco_editor_core.Mj.DocumentHighlightKind.Text}var DocumentHighlightAdapter=function(){function DocumentHighlightAdapter(_worker){this._worker=_worker}DocumentHighlightAdapter.prototype.provideDocumentHighlights=function(model,position,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findDocumentHighlights(resource.toString(),fromPosition(position))})).then((function(entries){if(!entries){return}return entries.map((function(entry){return{range:toRange(entry.range),kind:toDocumentHighlightKind(entry.kind)}}))}))};return DocumentHighlightAdapter}();function toLocation(location){return{uri:monaco_editor_core.Sf.parse(location.uri),range:toRange(location.range)}}var DefinitionAdapter=function(){function DefinitionAdapter(_worker){this._worker=_worker}DefinitionAdapter.prototype.provideDefinition=function(model,position,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findDefinition(resource.toString(),fromPosition(position))})).then((function(definition){if(!definition){return}return[toLocation(definition)]}))};return DefinitionAdapter}();var ReferenceAdapter=function(){function ReferenceAdapter(_worker){this._worker=_worker}ReferenceAdapter.prototype.provideReferences=function(model,position,context,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findReferences(resource.toString(),fromPosition(position))})).then((function(entries){if(!entries){return}return entries.map(toLocation)}))};return ReferenceAdapter}();function toWorkspaceEdit(edit){if(!edit||!edit.changes){return void 0}var resourceEdits=[];for(var uri in edit.changes){var _uri=monaco_editor_core.Sf.parse(uri);for(var _i=0,_a=edit.changes[uri];_i<_a.length;_i++){var e=_a[_i];resourceEdits.push({resource:_uri,edit:{range:toRange(e.range),text:e.newText}})}}return{edits:resourceEdits}}var RenameAdapter=function(){function RenameAdapter(_worker){this._worker=_worker}RenameAdapter.prototype.provideRenameEdits=function(model,position,newName,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.doRename(resource.toString(),fromPosition(position),newName)})).then((function(edit){return toWorkspaceEdit(edit)}))};return RenameAdapter}();function toSymbolKind(kind){var mKind=monaco_editor_core.Mj.SymbolKind;switch(kind){case SymbolKind.File:return mKind.Array;case SymbolKind.Module:return mKind.Module;case SymbolKind.Namespace:return mKind.Namespace;case SymbolKind.Package:return mKind.Package;case SymbolKind.Class:return mKind.Class;case SymbolKind.Method:return mKind.Method;case SymbolKind.Property:return mKind.Property;case SymbolKind.Field:return mKind.Field;case SymbolKind.Constructor:return mKind.Constructor;case SymbolKind.Enum:return mKind.Enum;case SymbolKind.Interface:return mKind.Interface;case SymbolKind.Function:return mKind.Function;case SymbolKind.Variable:return mKind.Variable;case SymbolKind.Constant:return mKind.Constant;case SymbolKind.String:return mKind.String;case SymbolKind.Number:return mKind.Number;case SymbolKind.Boolean:return mKind.Boolean;case SymbolKind.Array:return mKind.Array}return mKind.Function}var DocumentSymbolAdapter=function(){function DocumentSymbolAdapter(_worker){this._worker=_worker}DocumentSymbolAdapter.prototype.provideDocumentSymbols=function(model,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findDocumentSymbols(resource.toString())})).then((function(items){if(!items){return}return items.map((function(item){return{name:item.name,detail:"",containerName:item.containerName,kind:toSymbolKind(item.kind),tags:[],range:toRange(item.location.range),selectionRange:toRange(item.location.range)}}))}))};return DocumentSymbolAdapter}();var DocumentColorAdapter=function(){function DocumentColorAdapter(_worker){this._worker=_worker}DocumentColorAdapter.prototype.provideDocumentColors=function(model,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.findDocumentColors(resource.toString())})).then((function(infos){if(!infos){return}return infos.map((function(item){return{color:item.color,range:toRange(item.range)}}))}))};DocumentColorAdapter.prototype.provideColorPresentations=function(model,info,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.getColorPresentations(resource.toString(),info.color,fromRange(info.range))})).then((function(presentations){if(!presentations){return}return presentations.map((function(presentation){var item={label:presentation.label};if(presentation.textEdit){item.textEdit=toTextEdit(presentation.textEdit)}if(presentation.additionalTextEdits){item.additionalTextEdits=presentation.additionalTextEdits.map(toTextEdit)}return item}))}))};return DocumentColorAdapter}();var FoldingRangeAdapter=function(){function FoldingRangeAdapter(_worker){this._worker=_worker}FoldingRangeAdapter.prototype.provideFoldingRanges=function(model,context,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.getFoldingRanges(resource.toString(),context)})).then((function(ranges){if(!ranges){return}return ranges.map((function(range){var result={start:range.startLine+1,end:range.endLine+1};if(typeof range.kind!=="undefined"){result.kind=toFoldingRangeKind(range.kind)}return result}))}))};return FoldingRangeAdapter}();function toFoldingRangeKind(kind){switch(kind){case FoldingRangeKind.Comment:return monaco_editor_core.Mj.FoldingRangeKind.Comment;case FoldingRangeKind.Imports:return monaco_editor_core.Mj.FoldingRangeKind.Imports;case FoldingRangeKind.Region:return monaco_editor_core.Mj.FoldingRangeKind.Region}}var SelectionRangeAdapter=function(){function SelectionRangeAdapter(_worker){this._worker=_worker}SelectionRangeAdapter.prototype.provideSelectionRanges=function(model,positions,token){var resource=model.uri;return this._worker(resource).then((function(worker){return worker.getSelectionRanges(resource.toString(),positions.map(fromPosition))})).then((function(selectionRanges){if(!selectionRanges){return}return selectionRanges.map((function(selectionRange){var result=[];while(selectionRange){result.push({range:toRange(selectionRange.range)});selectionRange=selectionRange.parent}return result}))}))};return SelectionRangeAdapter}();function setupMode(defaults){var disposables=[];var providers=[];var client=new WorkerManager(defaults);disposables.push(client);var worker=function(){var uris=[];for(var _i=0;_i<arguments.length;_i++){uris[_i]=arguments[_i]}return client.getLanguageServiceWorker.apply(client,uris)};function registerProviders(){var languageId=defaults.languageId,modeConfiguration=defaults.modeConfiguration;disposeAll(providers);if(modeConfiguration.completionItems){providers.push(monaco_editor_core.Mj.registerCompletionItemProvider(languageId,new CompletionAdapter(worker)))}if(modeConfiguration.hovers){providers.push(monaco_editor_core.Mj.registerHoverProvider(languageId,new HoverAdapter(worker)))}if(modeConfiguration.documentHighlights){providers.push(monaco_editor_core.Mj.registerDocumentHighlightProvider(languageId,new DocumentHighlightAdapter(worker)))}if(modeConfiguration.definitions){providers.push(monaco_editor_core.Mj.registerDefinitionProvider(languageId,new DefinitionAdapter(worker)))}if(modeConfiguration.references){providers.push(monaco_editor_core.Mj.registerReferenceProvider(languageId,new ReferenceAdapter(worker)))}if(modeConfiguration.documentSymbols){providers.push(monaco_editor_core.Mj.registerDocumentSymbolProvider(languageId,new DocumentSymbolAdapter(worker)))}if(modeConfiguration.rename){providers.push(monaco_editor_core.Mj.registerRenameProvider(languageId,new RenameAdapter(worker)))}if(modeConfiguration.colors){providers.push(monaco_editor_core.Mj.registerColorProvider(languageId,new DocumentColorAdapter(worker)))}if(modeConfiguration.foldingRanges){providers.push(monaco_editor_core.Mj.registerFoldingRangeProvider(languageId,new FoldingRangeAdapter(worker)))}if(modeConfiguration.diagnostics){providers.push(new DiagnosticsAdapter(languageId,worker,defaults))}if(modeConfiguration.selectionRanges){providers.push(monaco_editor_core.Mj.registerSelectionRangeProvider(languageId,new SelectionRangeAdapter(worker)))}}registerProviders();disposables.push(asDisposable(providers));return asDisposable(disposables)}function asDisposable(disposables){return{dispose:function(){return disposeAll(disposables)}}}function disposeAll(disposables){while(disposables.length){disposables.pop().dispose()}}}}]);